import{_ as T}from"./MainPage.vue_vue_type_script_setup_true_lang-D0PJKTrb.js";import{_ as L,s as N}from"./BaseForm.vue_vue_type_script_setup_true_lang-Ve9hLo11.js";import{s as V}from"./index-Bf0MQ0ko.js";import{d as B,r as g,s as F,o as p,c as b,a as s,w as d,b as n,F as M,e as t,f as C,g as P,n as U,t as y,i as j,h as H,j as A,k as z,l as Y,m as q,p as D,q as G,v as E}from"./index-D20LDPsR.js";import{s as O}from"./index-Dm8aIbyZ.js";import{_ as J}from"./NoResult.vue_vue_type_script_setup_true_lang-C6lA_I4j.js";import{_ as K}from"./BaseInputText.vue_vue_type_script_setup_true_lang-BW8exqpw.js";import{u as Q,h as W,a as R}from"./create-event.store-B9qBrkxg.js";import"./BaseTimePicker.vue_vue_type_script_setup_true_lang-a1GloYSS.js";import"./index-Z_8Hu4C4.js";import"./index-CekBNk2C.js";const X={class:"flex flex-col gap-3"},Z={class:"flex flex-col sm:flex-row gap-3"},ee=["onClick"],te={class:"font-medium mb-1"},se={class:"text-sm text-slate-400"},ne={class:"flex gap-4 justify-end"},oe=B({__name:"CreateEvent",setup(h){const o=g(!1),_=g([{type:"IN-PERSON",name:"In Person",info:"Conduct an event in a physical venue for face-to-face networking"},{type:"VIRTUAL",name:"Virtual",info:"Host a digital event that engages participants who join remotely"},{type:"HYBRID",name:"Hybrid",info:"Expand your in-person event to reach a wider audience"}]),v=Q(),{create:r}=v,{form:x}=F(v);return(k,c)=>{const i=H,a=K,u=L,f=A;return p(),b(C,null,[s(i,{label:"Create Event",onClick:c[0]||(c[0]=l=>o.value=!0),icon:"pi pi-plus"}),s(f,{visible:n(o),"onUpdate:visible":c[2]||(c[2]=l=>j(o)?o.value=l:null),modal:"",header:"Create Event",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:d(()=>[s(n(M),{onSubmit:n(r)},{default:d(({isSubmitting:l,meta:$})=>[t("div",X,[s(a,{label:"Event Type"},{default:d(()=>[t("div",Z,[(p(!0),b(C,null,P(n(_),m=>(p(),b("div",{class:U(["basis-1/3 cursor-pointer hover:border-primary-500 border-2 p-3 rounded-xl",{"border-primary-500 bg-primary-50":n(x).type==m.type}]),onClick:I=>n(x).type=m.type},[t("div",te,y(m.name),1),t("div",se,y(m.info),1)],10,ee))),256))])]),_:1}),s(u),t("div",ne,[s(i,{type:"submit",disabled:!$.valid||l,loading:l,label:"Create"},null,8,["disabled","loading"]),s(i,{label:"Cancel",severity:"secondary",outlined:"",onClick:c[1]||(c[1]=m=>o.value=!1)})])])]),_:1},8,["onSubmit"])]),_:1},8,["visible"])],64)}}}),ae=()=>{const h=g([]),o=g("EVENTSPACE"),_=async()=>{const r=await W.get(`/events?tenantId=${o.value}`);h.value=r.data},v=z(()=>h.value.map(r=>(r.status||(r.status="DRAFT"),r)));return _(),{list:h,events:v,getList:_}},re={class:"container mx-auto p-4"},ie={key:1,class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},le=["src"],ce={class:"mb-3 text-slate-500"},pe={class:"flex items-center gap-2"},de={class:"flex items-center gap-2"},ue={class:"flex justify-between items-center"},me={class:"menu-wrapper"},ke=B({__name:"EventList",setup(h){const{events:o}=ae(),_=G(),v=Y(),r=q("menus"),x=g("https://placehold.co/600x400"),k=(i,a)=>{var f;i.stopPropagation();const u=(f=r.value)==null?void 0:f.find(l=>l.id===`menu-${a}`);u==null||u.toggle(i)},c=i=>{v.add({severity:"success",summary:"Published",detail:"Event published successfully",life:3e3})};return(i,a)=>{const u=oe,f=J,l=O,$=H,m=V,I=N,S=T;return p(),b("div",re,[s(S,{title:"Event - Default Space"},{action:d(()=>[s(u)]),default:d(()=>[n(o).length===0?(p(),D(f,{key:0,title:"No Events",info:"Create an event now",icon:"pi pi-receipt"})):(p(),b("div",ie,[(p(!0),b(C,null,P(n(o),e=>(p(),D(I,{class:"overflow-hidden cursor-pointer border border-transparent hover:border-primary-500 hover:shadow-md",key:e.id,onClick:w=>n(_).push({name:"basic-info",params:{eventId:e.id}})},{header:d(()=>[t("img",{alt:"user header",src:e.summary?e.summary:n(x),class:"object-cover h-80"},null,8,le)]),title:d(()=>[E(y(e.name),1)]),content:d(()=>[t("div",ce,[t("div",pe,[a[0]||(a[0]=t("i",{class:"pi pi-calendar",style:{"font-size":"1rem"}},null,-1)),E(" "+y(n(R)(e.startDate).format("DD MMM, YY"))+" ",1),a[1]||(a[1]=t("i",{class:"pi pi-clock",style:{"font-size":"1rem"}},null,-1)),E(" "+y(n(R)(e.startTime,"HH:mm:ss").format("h:mm a")),1)]),t("div",de,[a[2]||(a[2]=t("i",{class:"pi pi-map-marker",style:{"font-size":"1rem"}},null,-1)),E(" "+y(e.type==="VIRTUAL"?"Virtual":e.type==="HYBRID"?"Hybird":"In Person"),1)])]),t("div",ue,[t("div",null,[s(l,{value:e.status&&e.status==="PUBLISHED"?"PUBLISHED":"DRAFT",severity:e.status&&e.status==="PUBLISHED"?"primary":"secondary"},null,8,["value","severity"])]),t("div",me,[s($,{text:"",severity:"secondary",type:"button",icon:"pi pi-ellipsis-v","aria-haspopup":"true","aria-controls":"overlay_menu",onClick:w=>k(w,e.id)},null,8,["onClick"]),s(m,{ref_for:!0,ref:"menus","data-item-menu":e.id,id:`menu-${e.id}`,model:[{label:"Manage",icon:"pi pi-pencil",command:()=>i.$router.push({name:"basic-info",params:{eventId:e.id}})},{label:"Delete",icon:"pi pi-trash"},{label:"Publish",icon:"pi pi-flag",command:()=>c(e.id)}],popup:!0},null,8,["data-item-menu","id","model"])])])]),_:2},1032,["onClick"]))),128))]))]),_:1})])}}});export{ke as default};
